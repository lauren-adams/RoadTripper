{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Laure\\\\OneDrive\\\\Documents\\\\GitHub\\\\software-ii\\\\react-login\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport emailIcon from \"../img/email.svg\";\nimport passwordIcon from \"../img/password.svg\";\nimport styles from \"./SignUp.module.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { notify } from \"./toast\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [touched, setTouched] = useState({});\n\n  const logHandler = () => {\n    notify(\"You login to your account successfully\", \"success\");\n    history.push('/maps');\n  };\n\n  const chaeckData = obj => {\n    const {\n      email,\n      password\n    } = obj;\n    const urlApi = `https://lightem.senatorhost.com/login-react/index.php?email=${email.toLowerCase()}&password=${password}`;\n    const api = axios.get(urlApi).then(response => response.data).then(data => data.ok ? logHandler() : notify(\"Your password or your email is wrong\", \"error\"));\n    toast.promise(api, {\n      pending: \"Loading your data...\",\n      success: false,\n      error: \"Something went wrong!\"\n    });\n  };\n\n  const changeHandler = event => {\n    if (event.target.name === \"IsAccepted\") {\n      setData({ ...data,\n        [event.target.name]: event.target.checked\n      });\n    } else {\n      setData({ ...data,\n        [event.target.name]: event.target.value\n      });\n    }\n  };\n\n  const focusHandler = event => {\n    setTouched({ ...touched,\n      [event.target.name]: true\n    });\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n    chaeckData(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.formLogin,\n      onSubmit: submitHandler,\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            value: data.email,\n            placeholder: \"E-mail\",\n            onChange: changeHandler,\n            onFocus: focusHandler,\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: emailIcon,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            value: data.password,\n            placeholder: \"Password\",\n            onChange: changeHandler,\n            onFocus: focusHandler,\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: passwordIcon,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"#a29494\",\n            textAlign: \"center\",\n            display: \"inline-block\",\n            width: \"100%\"\n          },\n          children: [\"Don't have a account? \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/signup\",\n            children: \"Create account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"uaLv+ttmTqM562DnWfD3+vEPTXI=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","styles","ToastContainer","toast","notify","Link","axios","useHistory","withRouter","Login","data","setData","email","password","touched","setTouched","logHandler","history","push","chaeckData","obj","urlApi","toLowerCase","api","get","then","response","ok","promise","pending","success","error","changeHandler","event","target","name","checked","value","focusHandler","submitHandler","preventDefault","container","formLogin","emailIcon","passwordIcon","color","textAlign","display","width"],"sources":["C:/Users/Laure/OneDrive/Documents/GitHub/software-ii/react-login/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport emailIcon from \"../img/email.svg\";\r\nimport passwordIcon from \"../img/password.svg\";\r\nimport styles from \"./SignUp.module.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { notify } from \"./toast\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  const [data, setData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [touched, setTouched] = useState({});\r\n\r\n  const logHandler = () => {\r\n    notify(\"You login to your account successfully\", \"success\")\r\n    history.push('/maps');\r\n  }\r\n\r\n  const chaeckData = (obj) => {\r\n    const { email, password } = obj;\r\n    const urlApi = `https://lightem.senatorhost.com/login-react/index.php?email=${email.toLowerCase()}&password=${password}`;\r\n    const api = axios\r\n      .get(urlApi)\r\n      .then((response) => response.data)\r\n      .then((data) => (data.ok ? logHandler() : notify(\"Your password or your email is wrong\", \"error\")));\r\n    toast.promise(api, {\r\n      pending: \"Loading your data...\",\r\n      success: false,\r\n      error: \"Something went wrong!\",\r\n    });\r\n  };\r\n\r\n\r\n  const changeHandler = (event) => {\r\n    if (event.target.name === \"IsAccepted\") {\r\n      setData({ ...data, [event.target.name]: event.target.checked });\r\n    } else {\r\n      setData({ ...data, [event.target.name]: event.target.value });\r\n    }\r\n  };\r\n\r\n  const focusHandler = (event) => {\r\n    setTouched({ ...touched, [event.target.name]: true });\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    chaeckData(data);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <form className={styles.formLogin} onSubmit={submitHandler} autoComplete=\"off\">\r\n        <h2>Sign In</h2>\r\n        <div>\r\n          <div>\r\n            <input type=\"text\" name=\"email\" value={data.email} placeholder=\"E-mail\" onChange={changeHandler} onFocus={focusHandler} autoComplete=\"off\" />\r\n            <img src={emailIcon} alt=\"\" />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <input type=\"password\" name=\"password\" value={data.password} placeholder=\"Password\" onChange={changeHandler} onFocus={focusHandler} autoComplete=\"off\" />\r\n            <img src={passwordIcon} alt=\"\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\">Login</button>\r\n          <span style={{ color: \"#a29494\", textAlign: \"center\", display: \"inline-block\", width: \"100%\" }}>\r\n            Don't have a account? <Link to=\"/signup\">Create account</Link>\r\n          </span>\r\n        </div>\r\n      </form>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}